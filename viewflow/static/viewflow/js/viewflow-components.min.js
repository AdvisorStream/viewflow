(function(Turbolinks,materialComponentsWeb){'use strict';var _Mathabs=Math.abs,_Mathfloor=Math.floor;function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function div(attrs){return new DOMBuilder("div",attrs)}function a(attrs){return new DOMBuilder("a",attrs)}function _defineProperty$1(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}/*!
   * perfect-scrollbar v1.5.0
   * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
   * Licensed under MIT
   */function get(element){return getComputedStyle(element)}function set(element,obj){for(var key in obj){var val=obj[key];"number"==typeof val&&(val+="px"),element.style[key]=val}return element}function div$1(className){var div=document.createElement("div");return div.className=className,div}function matches(element,query){if(!elMatches)throw new Error("No element matching method supported");return elMatches.call(element,query)}function remove(element){element.remove?element.remove():element.parentNode&&element.parentNode.removeChild(element)}function queryChildren(element,selector){return Array.prototype.filter.call(element.children,function(child){return matches(child,selector)})}function addScrollingClass(i,x){var classList=i.element.classList,className=cls.state.scrolling(x);classList.contains(className)?clearTimeout(scrollingClassTimeout[x]):classList.add(className)}function removeScrollingClass(i,x){scrollingClassTimeout[x]=setTimeout(function(){return i.isAlive&&i.element.classList.remove(cls.state.scrolling(x))},i.settings.scrollingThreshold)}function setScrollingClassInstantly(i,x){addScrollingClass(i,x),removeScrollingClass(i,x)}function createEvent(name){if("function"==typeof window.CustomEvent)return new CustomEvent(name);var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(name,!1,!1,void 0),evt}function processScrollDiff(i,axis,diff,useScrollingClass,forceFireReachEvent){void 0===useScrollingClass&&(useScrollingClass=!0),void 0===forceFireReachEvent&&(forceFireReachEvent=!1);var fields;if("top"===axis)fields=["contentHeight","containerHeight","scrollTop","y","up","down"];else if("left"===axis)fields=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");processScrollDiff$1(i,diff,fields,useScrollingClass,forceFireReachEvent)}function processScrollDiff$1(i,diff,ref,useScrollingClass,forceFireReachEvent){var contentHeight=ref[0],containerHeight=ref[1],scrollTop=ref[2],y=ref[3],up=ref[4],down=ref[5];void 0===useScrollingClass&&(useScrollingClass=!0),void 0===forceFireReachEvent&&(forceFireReachEvent=!1);var element=i.element;// reset reach
i.reach[y]=null,1>element[scrollTop]&&(i.reach[y]="start"),element[scrollTop]>i[contentHeight]-i[containerHeight]-1&&(i.reach[y]="end"),diff&&(element.dispatchEvent(createEvent("ps-scroll-"+y)),0>diff?element.dispatchEvent(createEvent("ps-scroll-"+up)):0<diff&&element.dispatchEvent(createEvent("ps-scroll-"+down)),useScrollingClass&&setScrollingClassInstantly(i,y)),i.reach[y]&&(diff||forceFireReachEvent)&&element.dispatchEvent(createEvent("ps-"+y+"-reach-"+i.reach[y]))}function toInt(x){return parseInt(x,10)||0}function isEditable(el){return matches(el,"input,[contenteditable]")||matches(el,"select,[contenteditable]")||matches(el,"textarea,[contenteditable]")||matches(el,"button,[contenteditable]")}function outerWidth(element){var styles=get(element);return toInt(styles.width)+toInt(styles.paddingLeft)+toInt(styles.paddingRight)+toInt(styles.borderLeftWidth)+toInt(styles.borderRightWidth)}function updateGeometry(i){var _Mathceil=Math.ceil,element=i.element,roundedScrollTop=_Mathfloor(element.scrollTop),rect=element.getBoundingClientRect();i.containerWidth=_Mathceil(rect.width),i.containerHeight=_Mathceil(rect.height),i.contentWidth=element.scrollWidth,i.contentHeight=element.scrollHeight,element.contains(i.scrollbarXRail)||(queryChildren(element,cls.element.rail("x")).forEach(function(el){return remove(el)}),element.appendChild(i.scrollbarXRail)),element.contains(i.scrollbarYRail)||(queryChildren(element,cls.element.rail("y")).forEach(function(el){return remove(el)}),element.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=getThumbSize(i,toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=toInt((i.negativeScrollAdjustment+element.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=getThumbSize(i,toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=toInt(roundedScrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),updateCss(element,i),i.scrollbarXActive?element.classList.add(cls.state.active("x")):(element.classList.remove(cls.state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,element.scrollLeft=!0===i.isRtl?i.contentWidth:0),i.scrollbarYActive?element.classList.add(cls.state.active("y")):(element.classList.remove(cls.state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,element.scrollTop=0)}function getThumbSize(i,thumbSize){var _Mathmin=Math.min,_Mathmax=Math.max;return i.settings.minScrollbarLength&&(thumbSize=_Mathmax(thumbSize,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(thumbSize=_Mathmin(thumbSize,i.settings.maxScrollbarLength)),thumbSize}function updateCss(element,i){var xRailOffset={width:i.railXWidth},roundedScrollTop=_Mathfloor(element.scrollTop);xRailOffset.left=i.isRtl?i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth-i.contentWidth:element.scrollLeft,i.isScrollbarXUsingBottom?xRailOffset.bottom=i.scrollbarXBottom-roundedScrollTop:xRailOffset.top=i.scrollbarXTop+roundedScrollTop,set(i.scrollbarXRail,xRailOffset);var yRailOffset={top:roundedScrollTop,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?yRailOffset.right=i.contentWidth-(i.negativeScrollAdjustment+element.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:yRailOffset.right=i.scrollbarYRight-element.scrollLeft:i.isRtl?yRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:yRailOffset.left=i.scrollbarYLeft+element.scrollLeft,set(i.scrollbarYRail,yRailOffset),set(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),set(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}function bindMouseScrollHandler(i,ref){function mouseMoveHandler(e){e.touches&&e.touches[0]&&(e[pageY]=e.touches[0].pageY),element[scrollTop]=startingScrollTop+scrollBy*(e[pageY]-startingMousePageY),addScrollingClass(i,y),updateGeometry(i),e.stopPropagation(),e.preventDefault()}function mouseUpHandler(){removeScrollingClass(i,y),i[scrollbarYRail].classList.remove(cls.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)}function bindMoves(e,touchMode){startingScrollTop=element[scrollTop],touchMode&&e.touches&&(e[pageY]=e.touches[0].pageY),startingMousePageY=e[pageY],scrollBy=(i[contentHeight]-i[containerHeight])/(i[railYHeight]-i[scrollbarYHeight]),touchMode?i.event.bind(i.ownerDocument,"touchmove",mouseMoveHandler):(i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler),i.event.once(i.ownerDocument,"mouseup",mouseUpHandler),e.preventDefault()),i[scrollbarYRail].classList.add(cls.state.clicking),e.stopPropagation()}var containerHeight=ref[0],contentHeight=ref[1],pageY=ref[2],railYHeight=ref[3],scrollbarY=ref[4],scrollbarYHeight=ref[5],scrollTop=ref[6],y=ref[7],scrollbarYRail=ref[8],element=i.element,startingScrollTop=null,startingMousePageY=null,scrollBy=null;i.event.bind(i[scrollbarY],"mousedown",function(e){bindMoves(e)}),i.event.bind(i[scrollbarY],"touchstart",function(e){bindMoves(e,!0)})}function _defineProperty$2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperty$3(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Turbolinks__default=/*#__PURE__*/_interopDefaultLegacy(Turbolinks);class VCardMenu extends HTMLElement{constructor(...args){super(...args),_defineProperty(this,"onToggleMenu",()=>{this._mdcMenu.open=!this._mdcMenu.open}),_defineProperty(this,"onMenuSelect",event=>{event.preventDefault();const itemData=event.detail.item.dataset;itemData.cardMenuHref&&(Turbolinks__default["default"]?Turbolinks__default["default"].visit(itemData.cardMenuHref):window.location=itemData.cardMenuHref)})}connectedCallback(){setTimeout(()=>{this._menuEl=this.querySelector(".mdc-menu"),this._triggerEl=this.querySelector(".vf-card__menu-trigger"),this._mdcMenu=new materialComponentsWeb.menu.MDCMenu(this._menuEl),this._menuEl.addEventListener("MDCMenu:selected",this.onMenuSelect),this._triggerEl.addEventListener("click",this.onToggleMenu)})}disconnectedCallback(){this._mdcMenu.destroy(),this._triggerEl.removeEventListener("click",this.onToggleMenu)}}/* eslint-env browser */class DOMBuilder{constructor(tagName,attrs){this.tagName=tagName,this.attrs=attrs,this.content=null,this.textContent=null}with(content){return content instanceof Array||(content=[content]),this.content=content,this}text(textContent){return this.textContent=textContent,this}_createElement(tagName){return document.createElement(tagName)}_setAttribute(element,attr,value){element.setAttribute(attr,value)}toDOM(){const element=this._createElement(this.tagName);for(let attr in this.textContent&&(element.textContent=this.textContent),this.attrs)if(this.attrs.hasOwnProperty(attr)){let value=this.attrs[attr];if(void 0===value||null===value)// skip undefined values
continue;else if(value instanceof Array)// join array data
value=value.join(" ");else if("boolean"==typeof value){if(!1===value)// skip false boolean attributes
continue;else value="";}else if("string"!=typeof value&&"number"!=typeof value){// join hash key if enabled
let valuesList=[];for(let key in value)if(value.hasOwnProperty(key)){const keyValue=value[key];keyValue&&valuesList.push(key)}value=valuesList.join(" ")}this._setAttribute(element,attr,null==value?"":value)}if(this.content)for(let i=0;i<this.content.length;i++){const child=this.content[i];child&&(child instanceof DOMBuilder?element.appendChild(child.toDOM()):element.appendChild(document.createTextNode(child)))}return element}}class VPage extends HTMLElement{constructor(...args){super(...args),_defineProperty$1(this,"onWindowResize",()=>{cancelAnimationFrame(this._reconcileDrawerFrame),this._reconcileDrawerFrame=requestAnimationFrame(()=>this.reconcileDrawer())}),_defineProperty$1(this,"onToggleMenuClick",event=>{event.preventDefault(),this.classList.toggle("vf-page__menu--secondary-open")})}connectedCallback(){this._reconcileDrawerFrame=0,this._mdcDrawer=null,this._topAppBar=null,this._drawerEl=this.querySelector(".vf-page__menu"),this._contentEl=this.querySelector(".vf-page__body"),this._toggleMenuEl=this.querySelector(".vf-page__menu-toggle-button"),this._topAppBarEl=this.querySelector(".vf-page__body-toolbar"),this._scrimEl=div({class:"mdc-drawer-scrim"}).toDOM(),992<=window.innerWidth&&this._drawerEl.classList.toggle("mdc-drawer--open","closed"!=sessionStorage.getItem("viewflow_site_drawer_state")),this._toggleMenuEl.addEventListener("click",this.onToggleMenuClick),window.addEventListener("resize",this.onWindowResize),this._mdcDrawer=materialComponentsWeb.drawer.MDCDrawer.attachTo(this._drawerEl),this._topAppBar=materialComponentsWeb.topAppBar.MDCTopAppBar.attachTo(this._topAppBarEl),this._topAppBar.setScrollTarget(this.querySelector(".vf-page__content")),this._topAppBar.listen("MDCTopAppBar:nav",event=>{event.preventDefault(),this.open=!this.open}),this.reconcileDrawer()}disconnectedCallback(){window.removeEventListener("resize",this.onWindowResize),this._toggleMenuEl.removeEventListener("click",this.onToggleMenuClick),this._mdcDrawer&&this._mdcDrawer.destroy(),this._topAppBar&&this._topAppBar.destroy()}reconcileDrawer(){const rootClasses=this._drawerEl.classList;992>window.innerWidth&&!rootClasses.contains("mdc-drawer--modal")?(this._mdcDrawer.destroy(),this._drawerEl.classList.remove("mdc-drawer--dismissible"),this._drawerEl.classList.remove("mdc-drawer--open"),this._drawerEl.classList.add("mdc-drawer--modal"),this.insertBefore(this._scrimEl,this._contentEl),this._contentEl.classList.remove("mdc-drawer-app-content"),this._mdcDrawer=materialComponentsWeb.drawer.MDCDrawer.attachTo(this._drawerEl)):992<=window.innerWidth&&!rootClasses.contains("mdc-drawer--dismissible")&&(this._mdcDrawer.destroy(),this._drawerEl.classList.remove("mdc-drawer--modal"),this._scrimEl.remove(),this._drawerEl.classList.add("mdc-drawer--dismissible"),this._contentEl.classList.add("mdc-drawer-app-content"),this._drawerEl.classList.toggle("mdc-drawer--open","closed"!=sessionStorage.getItem("viewflow_site_drawer_state")),this._mdcDrawer=materialComponentsWeb.drawer.MDCDrawer.attachTo(this._drawerEl))}get open(){if(this._mdcDrawer)return this._mdcDrawer.open}set open(value){if(this._mdcDrawer)return 992<=window.innerWidth&&sessionStorage.setItem("viewflow_site_drawer_state",value?"open":"closed"),this._mdcDrawer.open=value}}class VPageMenuToggle extends HTMLElement{constructor(...args){super(...args),_defineProperty$1(this,"onClick",event=>{event.preventDefault(),this._pageMenu.open=!this._pageMenu.open})}connectedCallback(){setTimeout(()=>{this._pageMenu=document.querySelector("vf-page-menu"),this.addEventListener("click",this.onClick)})}disconnectedCallback(){this.removeEventListener("click",this.onClick)}}class VPageMenuNavigation extends HTMLElement{constructor(...args){super(...args),_defineProperty$1(this,"activate",()=>{let currentPath=window.location.pathname;Turbolinks__default["default"].controller.currentVisit&&Turbolinks__default["default"].controller.currentVisit.redirectedToLocation&&(currentPath=Turbolinks__default["default"].controller.currentVisit.redirectedToLocation.absoluteURL.substring(window.location.origin.length));const navItems=[].slice.call(this.querySelectorAll(".mdc-list-item:not(.vf-page-navigation__ignore)")).filter(node=>currentPath.startsWith(node.pathname));navItems.sort((a,b)=>b.pathname.length-a.pathname.length),navItems.length&&navItems[0].classList.add("mdc-list-item--selected")})}connectedCallback(){this.children.length?this.activate():setTimeout(this.activate)}}class VPageScrollFix extends HTMLElement{constructor(...args){super(...args),_defineProperty$1(this,"onResize",()=>{document.body.style.width?(cancelAnimationFrame(this._reconcileBodyFrame),this._reconcileBodyFrame=requestAnimationFrame(()=>{document.body.style.width=window.innerWidth-this._gap+"px"})):this._clientWidth=document.body.clientWidth}),_defineProperty$1(this,"onBodyChanged",()=>{const overflow=window.getComputedStyle(document.body).overflow;"hidden"==overflow?(this._gap=window.innerWidth-this._clientWidth,document.body.style.width=this._clientWidth+"px"):(document.body.style.removeProperty("width"),this._clientWidth=document.body.clientWidth)})}connectedCallback(){this._reconcileBodyFrame=0,this._clientWidth=document.body.clientWidth,this._gap=0,window.addEventListener("resize",this.onResize),this._observer=new MutationObserver(this.onBodyChanged),this._observer.observe(document.body,{attributes:!0,attributeFilter:["class"]})}disconnectedCallback(){window.removeEventListener("resize",this.onResize),cancelAnimationFrame(this._reconcileBodyFrame),this._observer.disconnect()}}var elMatches="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),cls={main:"ps",rtl:"ps__rtl",element:{thumb:function(x){return"ps__thumb-"+x},rail:function(x){return"ps__rail-"+x},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(x){return"ps--active-"+x},scrolling:function(x){return"ps--scrolling-"+x}}},scrollingClassTimeout={x:null,y:null},EventElement=function(element){this.element=element,this.handlers={}},prototypeAccessors={isEmpty:{configurable:!0}};EventElement.prototype.bind=function(eventName,handler){"undefined"==typeof this.handlers[eventName]&&(this.handlers[eventName]=[]),this.handlers[eventName].push(handler),this.element.addEventListener(eventName,handler,!1)},EventElement.prototype.unbind=function(eventName,target){var this$1=this;this.handlers[eventName]=this.handlers[eventName].filter(function(handler){return!!(target&&handler!==target)||(this$1.element.removeEventListener(eventName,handler,!1),!1)})},EventElement.prototype.unbindAll=function(){for(var name in this.handlers)this.unbind(name)},prototypeAccessors.isEmpty.get=function(){var this$1=this;return Object.keys(this.handlers).every(function(key){return 0===this$1.handlers[key].length})},Object.defineProperties(EventElement.prototype,prototypeAccessors);var EventManager=function(){this.eventElements=[]};EventManager.prototype.eventElement=function(element){var ee=this.eventElements.filter(function(ee){return ee.element===element})[0];return ee||(ee=new EventElement(element),this.eventElements.push(ee)),ee},EventManager.prototype.bind=function(element,eventName,handler){this.eventElement(element).bind(eventName,handler)},EventManager.prototype.unbind=function(element,eventName,handler){var ee=this.eventElement(element);ee.unbind(eventName,handler),ee.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(ee),1)},EventManager.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},EventManager.prototype.once=function(element,eventName,handler){var ee=this.eventElement(element),onceHandler=function(evt){ee.unbind(eventName,onceHandler),handler(evt)};ee.bind(eventName,onceHandler)};var env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},defaultSettings=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},handlers={"click-rail":function(i){i.element;i.event.bind(i.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(e){var positionTop=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top,direction=positionTop>i.scrollbarYTop?1:-1;i.element.scrollTop+=direction*i.containerHeight,updateGeometry(i),e.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(e){var positionLeft=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left,direction=positionLeft>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=direction*i.containerWidth,updateGeometry(i),e.stopPropagation()})},"drag-thumb":function(i){bindMouseScrollHandler(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bindMouseScrollHandler(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(i){function shouldPreventDefault(deltaX,deltaY){var scrollTop=_Mathfloor(element.scrollTop);if(0===deltaX){if(!i.scrollbarYActive)return!1;if(0===scrollTop&&0<deltaY||scrollTop>=i.contentHeight-i.containerHeight&&0>deltaY)return!i.settings.wheelPropagation}var scrollLeft=element.scrollLeft;if(0===deltaY){if(!i.scrollbarXActive)return!1;if(0===scrollLeft&&0>deltaX||scrollLeft>=i.contentWidth-i.containerWidth&&0<deltaX)return!i.settings.wheelPropagation}return!0}var element=i.element,elementHovered=function(){return matches(element,":hover")},scrollbarFocused=function(){return matches(i.scrollbarX,":focus")||matches(i.scrollbarY,":focus")};i.event.bind(i.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(elementHovered()||scrollbarFocused())){var activeElement=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(activeElement){if("IFRAME"===activeElement.tagName)activeElement=activeElement.contentDocument.activeElement;else// go deeper if element is a webcomponent
for(;activeElement.shadowRoot;)activeElement=activeElement.shadowRoot.activeElement;if(isEditable(activeElement))return}var deltaX=0,deltaY=0;switch(e.which){case 37:deltaX=e.metaKey?-i.contentWidth:e.altKey?-i.containerWidth:-30;break;case 38:deltaY=e.metaKey?i.contentHeight:e.altKey?i.containerHeight:30;break;case 39:deltaX=e.metaKey?i.contentWidth:e.altKey?i.containerWidth:30;break;case 40:deltaY=e.metaKey?-i.contentHeight:e.altKey?-i.containerHeight:-30;break;case 32:deltaY=e.shiftKey?i.containerHeight:-i.containerHeight;break;case 33:deltaY=i.containerHeight;break;case 34:deltaY=-i.containerHeight;break;case 36:deltaY=i.contentHeight;break;case 35:deltaY=-i.contentHeight;break;default:return;}i.settings.suppressScrollX&&0!==deltaX||i.settings.suppressScrollY&&0!==deltaY||(element.scrollTop-=deltaY,element.scrollLeft+=deltaX,updateGeometry(i),shouldPreventDefault(deltaX,deltaY)&&e.preventDefault())}})},wheel:function(i){function shouldPreventDefault(deltaX,deltaY){var hitsBound,roundedScrollTop=_Mathfloor(element.scrollTop),isTop=0===element.scrollTop,isBottom=roundedScrollTop+element.offsetHeight===element.scrollHeight,isLeft=0===element.scrollLeft,isRight=element.scrollLeft+element.offsetWidth===element.scrollWidth;return hitsBound=_Mathabs(deltaY)>_Mathabs(deltaX)?isTop||isBottom:isLeft||isRight,!hitsBound||!i.settings.wheelPropagation}function getDeltaFromEvent(e){var deltaX=e.deltaX,deltaY=-1*e.deltaY;return("undefined"==typeof deltaX||"undefined"==typeof deltaY)&&(deltaX=-1*e.wheelDeltaX/6,deltaY=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(deltaX*=10,deltaY*=10),deltaX!==deltaX&&deltaY!==deltaY/* NaN checks */&&(deltaX=0,deltaY=e.wheelDelta),e.shiftKey?[-deltaY,-deltaX]:[deltaX,deltaY]}function shouldBeConsumedByChild(target,deltaX,deltaY){// FIXME: this is a workaround for <select> issue in FF and IE #571
if(!env.isWebKit&&element.querySelector("select:focus"))return!0;if(!element.contains(target))return!1;for(var cursor=target;cursor&&cursor!==element;){if(cursor.classList.contains(cls.element.consuming))return!0;var style=get(cursor);// if deltaY && vertical scrollable
if(deltaY&&style.overflowY.match(/(scroll|auto)/)){var maxScrollTop=cursor.scrollHeight-cursor.clientHeight;if(0<maxScrollTop&&(0<cursor.scrollTop&&0>deltaY||cursor.scrollTop<maxScrollTop&&0<deltaY))return!0}// if deltaX && horizontal scrollable
if(deltaX&&style.overflowX.match(/(scroll|auto)/)){var maxScrollLeft=cursor.scrollWidth-cursor.clientWidth;if(0<maxScrollLeft&&(0<cursor.scrollLeft&&0>deltaX||cursor.scrollLeft<maxScrollLeft&&0<deltaX))return!0}cursor=cursor.parentNode}return!1}function mousewheelHandler(e){var ref=getDeltaFromEvent(e),deltaX=ref[0],deltaY=ref[1];if(!shouldBeConsumedByChild(e.target,deltaX,deltaY)){var shouldPrevent=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(deltaY?element.scrollTop-=deltaY*i.settings.wheelSpeed:element.scrollTop+=deltaX*i.settings.wheelSpeed,shouldPrevent=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(deltaX?element.scrollLeft+=deltaX*i.settings.wheelSpeed:element.scrollLeft-=deltaY*i.settings.wheelSpeed,shouldPrevent=!0):(element.scrollTop-=deltaY*i.settings.wheelSpeed,element.scrollLeft+=deltaX*i.settings.wheelSpeed),updateGeometry(i),shouldPrevent=shouldPrevent||shouldPreventDefault(deltaX,deltaY),shouldPrevent&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}var element=i.element;"undefined"==typeof window.onwheel?"undefined"!=typeof window.onmousewheel&&i.event.bind(element,"mousewheel",mousewheelHandler):i.event.bind(element,"wheel",mousewheelHandler)},touch:function(i){function shouldPrevent(deltaX,deltaY){var scrollTop=_Mathfloor(element.scrollTop),scrollLeft=element.scrollLeft,magnitudeX=_Mathabs(deltaX),magnitudeY=_Mathabs(deltaY);if(magnitudeY>magnitudeX){// user is perhaps trying to swipe up/down the page
if(0>deltaY&&scrollTop===i.contentHeight-i.containerHeight||0<deltaY&&0===scrollTop)// set prevent for mobile Chrome refresh
return 0===window.scrollY&&0<deltaY&&env.isChrome;}else if(magnitudeX>magnitudeY&&(0>deltaX&&scrollLeft===i.contentWidth-i.containerWidth||0<deltaX&&0===scrollLeft))// user is perhaps trying to swipe left/right across the page
return!0;return!0}function applyTouchMove(differenceX,differenceY){element.scrollTop-=differenceY,element.scrollLeft-=differenceX,updateGeometry(i)}function getTouch(e){return e.targetTouches?e.targetTouches[0]:e}function shouldHandle(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons)&&(!!(e.targetTouches&&1===e.targetTouches.length)||!!(e.pointerType&&"mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE))}function touchStart(e){if(shouldHandle(e)){var touch=getTouch(e);startOffset.pageX=touch.pageX,startOffset.pageY=touch.pageY,startTime=new Date().getTime(),null!==easingLoop&&clearInterval(easingLoop)}}function shouldBeConsumedByChild(target,deltaX,deltaY){if(!element.contains(target))return!1;for(var cursor=target;cursor&&cursor!==element;){if(cursor.classList.contains(cls.element.consuming))return!0;var style=get(cursor);// if deltaY && vertical scrollable
if(deltaY&&style.overflowY.match(/(scroll|auto)/)){var maxScrollTop=cursor.scrollHeight-cursor.clientHeight;if(0<maxScrollTop&&(0<cursor.scrollTop&&0>deltaY||cursor.scrollTop<maxScrollTop&&0<deltaY))return!0}// if deltaX && horizontal scrollable
if(deltaX&&style.overflowX.match(/(scroll|auto)/)){var maxScrollLeft=cursor.scrollWidth-cursor.clientWidth;if(0<maxScrollLeft&&(0<cursor.scrollLeft&&0>deltaX||cursor.scrollLeft<maxScrollLeft&&0<deltaX))return!0}cursor=cursor.parentNode}return!1}function touchMove(e){if(shouldHandle(e)){var touch=getTouch(e),currentOffset={pageX:touch.pageX,pageY:touch.pageY},differenceX=currentOffset.pageX-startOffset.pageX,differenceY=currentOffset.pageY-startOffset.pageY;if(shouldBeConsumedByChild(e.target,differenceX,differenceY))return;applyTouchMove(differenceX,differenceY),startOffset=currentOffset;var currentTime=new Date().getTime(),timeGap=currentTime-startTime;0<timeGap&&(speed.x=differenceX/timeGap,speed.y=differenceY/timeGap,startTime=currentTime),shouldPrevent(differenceX,differenceY)&&e.preventDefault()}}function touchEnd(){i.settings.swipeEasing&&(clearInterval(easingLoop),easingLoop=setInterval(function(){return i.isInitialized?void clearInterval(easingLoop):speed.x||speed.y?.01>_Mathabs(speed.x)&&.01>_Mathabs(speed.y)?void clearInterval(easingLoop):void(applyTouchMove(30*speed.x,30*speed.y),speed.x*=.8,speed.y*=.8):void clearInterval(easingLoop)},10))}if(env.supportsTouch||env.supportsIePointer){var element=i.element,startOffset={},startTime=0,speed={},easingLoop=null;env.supportsTouch?(i.event.bind(element,"touchstart",touchStart),i.event.bind(element,"touchmove",touchMove),i.event.bind(element,"touchend",touchEnd)):env.supportsIePointer&&(window.PointerEvent?(i.event.bind(element,"pointerdown",touchStart),i.event.bind(element,"pointermove",touchMove),i.event.bind(element,"pointerup",touchEnd)):window.MSPointerEvent&&(i.event.bind(element,"MSPointerDown",touchStart),i.event.bind(element,"MSPointerMove",touchMove),i.event.bind(element,"MSPointerUp",touchEnd)))}}},PerfectScrollbar=function(element,userSettings){var this$1=this;if(void 0===userSettings&&(userSettings={}),"string"==typeof element&&(element=document.querySelector(element)),!element||!element.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var key in this.element=element,element.classList.add(cls.main),this.settings=defaultSettings(),userSettings)this.settings[key]=userSettings[key];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var focus=function(){return element.classList.add(cls.state.focus)},blur=function(){return element.classList.remove(cls.state.focus)};this.isRtl="rtl"===get(element).direction,!0===this.isRtl&&element.classList.add(cls.rtl),this.isNegativeScroll=function(){var originalScrollLeft=element.scrollLeft,result=null;return element.scrollLeft=-1,result=0>element.scrollLeft,element.scrollLeft=originalScrollLeft,result}(),this.negativeScrollAdjustment=this.isNegativeScroll?element.scrollWidth-element.clientWidth:0,this.event=new EventManager,this.ownerDocument=element.ownerDocument||document,this.scrollbarXRail=div$1(cls.element.rail("x")),element.appendChild(this.scrollbarXRail),this.scrollbarX=div$1(cls.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",focus),this.event.bind(this.scrollbarX,"blur",blur),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var railXStyle=get(this.scrollbarXRail);this.scrollbarXBottom=parseInt(railXStyle.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=toInt(railXStyle.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=toInt(railXStyle.borderLeftWidth)+toInt(railXStyle.borderRightWidth),set(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=toInt(railXStyle.marginLeft)+toInt(railXStyle.marginRight),set(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=div$1(cls.element.rail("y")),element.appendChild(this.scrollbarYRail),this.scrollbarY=div$1(cls.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",focus),this.event.bind(this.scrollbarY,"blur",blur),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var railYStyle=get(this.scrollbarYRail);this.scrollbarYRight=parseInt(railYStyle.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=toInt(railYStyle.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?outerWidth(this.scrollbarY):null,this.railBorderYWidth=toInt(railYStyle.borderTopWidth)+toInt(railYStyle.borderBottomWidth),set(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=toInt(railYStyle.marginTop)+toInt(railYStyle.marginBottom),set(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:0>=element.scrollLeft?"start":element.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:0>=element.scrollTop?"start":element.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(handlerName){return handlers[handlerName](this$1)}),this.lastScrollTop=_Mathfloor(element.scrollTop),this.lastScrollLeft=element.scrollLeft,this.event.bind(this.element,"scroll",function(e){return this$1.onScroll(e)}),updateGeometry(this)};PerfectScrollbar.prototype.update=function(){this.isAlive&&(// Recalcuate negative scrollLeft adjustment
// Recalculate rail margins
// Hide scrollbars not to affect scrollWidth and scrollHeight
this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,set(this.scrollbarXRail,{display:"block"}),set(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=toInt(get(this.scrollbarXRail).marginLeft)+toInt(get(this.scrollbarXRail).marginRight),this.railYMarginHeight=toInt(get(this.scrollbarYRail).marginTop)+toInt(get(this.scrollbarYRail).marginBottom),set(this.scrollbarXRail,{display:"none"}),set(this.scrollbarYRail,{display:"none"}),updateGeometry(this),processScrollDiff(this,"top",0,!1,!0),processScrollDiff(this,"left",0,!1,!0),set(this.scrollbarXRail,{display:""}),set(this.scrollbarYRail,{display:""}))},PerfectScrollbar.prototype.onScroll=function(){this.isAlive&&(updateGeometry(this),processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop),processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=_Mathfloor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},PerfectScrollbar.prototype.destroy=function(){this.isAlive&&(// unset elements
this.event.unbindAll(),remove(this.scrollbarX),remove(this.scrollbarY),remove(this.scrollbarXRail),remove(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},PerfectScrollbar.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(name){return!name.match(/^ps([-_].+|)$/)}).join(" ")};/* eslint-env browser */class VPerfectScroll extends HTMLElement{connectedCallback(){this.scroll=new PerfectScrollbar(this.parentElement)}disconnectedCallback(){this.scroll.destroy()}}class VSnackbar extends HTMLElement{constructor(...args){super(...args),_defineProperty$2(this,"onShowSnackbarEvent",event=>{this._showSnackBar(event.detail.message,event.detail.actionText,event.detail.actionLink)})}connectedCallback(){setTimeout(()=>{window.addEventListener("vf-snackbar:show",this.onShowSnackbarEvent,!1),this._showInitialSnackbar()})}disconnectedCallback(){this._mdcSnackbar&&this._mdcSnackbar.destroy(),window.removeEventListener("vf-snackbar:show",this.onShowSnackbarEvent)}_showSnackBar(message,actionText,actionLink){const surface=div({class:"mdc-snackbar__surface"}).with([div({class:"mdc-snackbar__label"}).text(message),actionText?div({class:"mdc-snackbar__actions"}).with([a({class:"mdc-button mdc-snackbar__action",href:actionLink}).text(actionText)]):null]);this._mdcSnackbar&&this._mdcSnackbar.destroy(),this.innerHTML=surface.toDOM().outerHTML,this._mdcSnackbar=materialComponentsWeb.snackbar.MDCSnackbar.attachTo(this),this._mdcSnackbar.open()}_showInitialSnackbar(){let actionText;// let actionHandler;
const message=Array.prototype.filter.call(this.childNodes,child=>child.nodeType===Node.TEXT_NODE).map(child=>child.textContent.trim()).join(" "),link=this.querySelector("a");link&&window.location.href!==link.href&&(actionText=link.textContent),message&&this._showSnackBar(message,actionText,link?link.href:null)}}class VTurbolinks extends HTMLElement{constructor(...args){super(...args),_defineProperty$3(this,"onRequestEnd",event=>{400<=event.data.xhr.status&&Turbolinks__default["default"].controller.disable()})}connectedCallback(){document.addEventListener("turbolinks:request-end",this.onRequestEnd)}disconnectedCallback(){document.removeEventListener("turbolinks:request-end",this.onRequestEnd)}}/* eslint-env browser */window.addEventListener("DOMContentLoaded",()=>{window.customElements.define("vf-card-menu",VCardMenu),window.customElements.define("vf-page-menu-navigation",VPageMenuNavigation),window.customElements.define("vf-page-menu-toggle",VPageMenuToggle),window.customElements.define("vf-page-scroll-fix",VPageScrollFix),window.customElements.define("vf-page",VPage),window.customElements.define("vf-perfect-scroll",VPerfectScroll),window.customElements.define("vf-snackbar",VSnackbar),window.customElements.define("vf-turbolinks",VTurbolinks)})})(Turbolinks,mdc);
//# sourceMappingURL=viewflow-components.min.js.map
